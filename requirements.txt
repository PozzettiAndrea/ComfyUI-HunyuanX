# PyTorch version compatible with Kaolin wheels (CUDA 12.8: cu128)
# Kaolin 0.18.0 has wheels for: torch 2.5.0, 2.5.1, 2.6.0, 2.7.0, 2.7.1, 2.8.0
# Install with: pip install -r requirements.txt --extra-index-url https://download.pytorch.org/whl/cu128
torch>=2.5.0,<=2.8.0
torchvision
torchaudio

trimesh
pyglet  # For trimesh headless rendering (scene.save_image)
fast-simplification  # For high-quality mesh decimation (trimesh.simplify_quadric_decimation)
pymeshlab
pygltflib
xatlas
open3d
omegaconf
pyyaml
configargparse
transformers
diffusers
accelerate
opencv-python
huggingface-hub
hf-transfer  # Fast download accelerator for HuggingFace
safetensors
scikit-image
pybind11
timm
meshlib
rembg
onnxruntime
pytorch-lightning

# TRELLIS Dependencies (for 3D generation with granular pipeline control)
imageio>=2.0.0
imageio-ffmpeg
einops>=0.7.0
easydict
plotly
kaleido  # For static image export from plotly (SLAT visualizer)
pyvista
pymeshfix
igraph
scipy
ninja
plyfile
diso
git+https://github.com/EasternJournalist/utils3d.git@9a4eb15e4021b67b12c460c7057d642626897ec8

# Testing dependencies
pytest>=8.0.0
websocket-client>=1.0.0

# REQUIRED: Kaolin (installed via install.py from NVIDIA S3 bucket)
# kaolin==0.18.0 is installed by scripts/install.py from NVIDIA prebuilt wheels
# For CUDA 12.8, requires torch 2.5.0-2.8.0 (specified above)

# Optional TRELLIS performance dependencies (require compilation - install manually if needed)
# flash-attn>=2.0.0  # 10-20% faster inference, takes 5-10 min to compile
# xformers>=0.0.20  # Alternative to flash-attn
# spconv-cu118  # Sparse convolution - match to your CUDA version
# nvdiffrast  # Differentiable rendering

# Optional mesh processing optimizations (has trimesh fallback if not installed)
# pynanoinstantmeshes  # Fast mesh remeshing (falls back to trimesh decimation)