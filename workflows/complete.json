{"id":"5a38a71a-3b6a-47a3-83b9-0628288b1553","revision":0,"last_node_id":33,"last_link_id":47,"nodes":[{"id":1,"type":"LoadImage","pos":[365.9609375,193.58203125],"size":[274.080078125,314],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[1]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"LoadImage"},"widgets_values":["600_hero_May2024_1of1.webp","image"]},{"id":6,"type":"EncodeDINO","pos":[1307.0820833305825,392.46884039462833],"size":[173.733984375,46],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"dino_model","name":"dino_model","type":"DINO_MODEL","link":2},{"localized_name":"image","name":"image","type":"IMAGE","link":20}],"outputs":[{"localized_name":"embedding","name":"embedding","type":"DINO_EMBEDDING","links":[6]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"EncodeDINO"},"widgets_values":[]},{"id":10,"type":"LoadHunyuanVAE","pos":[1588.0764759231424,109.97384045140038],"size":[270,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"use_cache","name":"use_cache","type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"localized_name":"vae","name":"vae","type":"HY3DVAE","links":[5]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"LoadHunyuanVAE"},"widgets_values":["Hunyuan3D-vae-v2-1-fp16.ckpt",true]},{"id":18,"type":"PreviewImage","pos":[1921.5160585146411,470.47327783773187],"size":[140,246.00000000000003],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":19}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":22,"type":"PreviewImage","pos":[2757.1177562681305,498.434808335534],"size":[140,26],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":24}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":7,"type":"Hy3DGenerateLatents","pos":[1583.914103557132,290.5653954716865],"size":[293.6919921875,174],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"dit_model","name":"dit_model","type":"HY3D_DIT_MODEL","link":15},{"localized_name":"dino_embedding","name":"dino_embedding","type":"DINO_EMBEDDING","link":6},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"guidance_scale","name":"guidance_scale","type":"FLOAT","widget":{"name":"guidance_scale"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"sigmas_str","name":"sigmas_str","shape":7,"type":"STRING","widget":{"name":"sigmas_str"},"link":null}],"outputs":[{"localized_name":"latents","name":"latents","type":"HY3DLATENT","links":[4]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"Hy3DGenerateLatents"},"widgets_values":[50,5,42,"fixed",""]},{"id":11,"type":"MeshCraft_RenderConditioningMaps","pos":[2384.0316254626596,202.276359928112],"size":[403.757421875,102],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"mesh","name":"mesh","type":"TRIMESH","link":9},{"localized_name":"camera_config","name":"camera_config","type":"HY3D21CAMERA","link":10},{"localized_name":"resolution","name":"resolution","type":"INT","widget":{"name":"resolution"},"link":null},{"localized_name":"ortho_scale","name":"ortho_scale","type":"FLOAT","widget":{"name":"ortho_scale"},"link":null}],"outputs":[{"localized_name":"normal_maps","name":"normal_maps","type":"IMAGE","links":[23,28]},{"localized_name":"position_maps","name":"position_maps","type":"IMAGE","links":[24,29]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"MeshCraft_RenderConditioningMaps"},"widgets_values":[512,1]},{"id":3,"type":"ImageResizeKJv2","pos":[804.71875,179.3671875],"size":[270,336],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":1},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[19,20,30]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"6ee278aa7d802c03ad713a7c5fbc02861b6773a8","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[518,518,"lanczos","pad","255, 255, 255","center",2,"cpu","<tr><td>Output: </td><td><b>1</b> x <b>518</b> x <b>518 | 3.07MB</b></td></tr>"]},{"id":9,"type":"Hy3D21VAEDecode","pos":[1961.9300556300598,191.16207750882256],"size":[288.749609375,222],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"vae","name":"vae","type":"HY3DVAE","link":5},{"localized_name":"latents","name":"latents","type":"HY3DLATENT","link":4},{"localized_name":"box_v","name":"box_v","type":"FLOAT","widget":{"name":"box_v"},"link":null},{"localized_name":"octree_resolution","name":"octree_resolution","type":"INT","widget":{"name":"octree_resolution"},"link":null},{"localized_name":"num_chunks","name":"num_chunks","type":"INT","widget":{"name":"num_chunks"},"link":null},{"localized_name":"mc_level","name":"mc_level","type":"FLOAT","widget":{"name":"mc_level"},"link":null},{"localized_name":"mc_algo","name":"mc_algo","type":"COMBO","widget":{"name":"mc_algo"},"link":null},{"localized_name":"enable_flash_vdm","name":"enable_flash_vdm","shape":7,"type":"BOOLEAN","widget":{"name":"enable_flash_vdm"},"link":null},{"localized_name":"force_offload","name":"force_offload","shape":7,"type":"BOOLEAN","widget":{"name":"force_offload"},"link":null}],"outputs":[{"localized_name":"trimesh","name":"trimesh","type":"TRIMESH","links":[9,33]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"Hy3D21VAEDecode"},"widgets_values":[1.01,384,8000,0,"mc",true,false]},{"id":12,"type":"Hy3D21CameraConfig","pos":[2200.7381676927093,527.0659342115902],"size":[299.1197265625,130],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"camera_azimuths","name":"camera_azimuths","type":"STRING","widget":{"name":"camera_azimuths"},"link":null},{"localized_name":"camera_elevations","name":"camera_elevations","type":"STRING","widget":{"name":"camera_elevations"},"link":null},{"localized_name":"view_weights","name":"view_weights","type":"STRING","widget":{"name":"view_weights"},"link":null},{"localized_name":"ortho_scale","name":"ortho_scale","type":"FLOAT","widget":{"name":"ortho_scale"},"link":null}],"outputs":[{"localized_name":"camera_config","name":"camera_config","type":"HY3D21CAMERA","links":[10,35]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"Hy3D21CameraConfig"},"widgets_values":["0, 90, 180, 270, 0, 0","0, 0, 0, 0, 90, -90","1, 0.5, 1, 0.5, 1, 1",1]},{"id":5,"type":"LoadDinoModel","pos":[1008.2501973042076,590.2063065823436],"size":[270,82],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"model_size","name":"model_size","type":"COMBO","widget":{"name":"model_size"},"link":null},{"localized_name":"keep_in_memory","name":"keep_in_memory","type":"BOOLEAN","widget":{"name":"keep_in_memory"},"link":null}],"outputs":[{"localized_name":"dino_model","name":"dino_model","type":"DINO_MODEL","links":[2]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"LoadDinoModel"},"widgets_values":["large",true]},{"id":27,"type":"Hy3D21MeshUVWrap","pos":[3206.735545415043,-103.4127609039038],"size":[239.6255859375,26],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"trimesh","name":"trimesh","type":"TRIMESH","link":33}],"outputs":[{"localized_name":"trimesh","name":"trimesh","type":"TRIMESH","links":[34,39,40]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"Hy3D21MeshUVWrap"},"widgets_values":[]},{"id":23,"type":"MeshCraft_BakeMultiviewTextures","pos":[3715.8989127807176,147.7555755949377],"size":[270,142],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"mesh","name":"mesh","type":"TRIMESH","link":34},{"localized_name":"camera_config","name":"camera_config","type":"HY3D21CAMERA","link":35},{"localized_name":"albedo","name":"albedo","type":"IMAGE","link":31},{"localized_name":"mr","name":"mr","type":"IMAGE","link":32},{"localized_name":"texture_size","name":"texture_size","type":"INT","widget":{"name":"texture_size"},"link":null},{"localized_name":"bake_exp","name":"bake_exp","type":"FLOAT","widget":{"name":"bake_exp"},"link":null}],"outputs":[{"localized_name":"albedo_texture","name":"albedo_texture","type":"IMAGE","links":[41]},{"localized_name":"albedo_mask","name":"albedo_mask","type":"IMAGE","links":[42]},{"localized_name":"mr_texture","name":"mr_texture","type":"IMAGE","links":[43]},{"localized_name":"mr_mask","name":"mr_mask","type":"IMAGE","links":[44]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"MeshCraft_BakeMultiviewTextures"},"widgets_values":[512,4]},{"id":29,"type":"MeshCraft_InpaintTextures","pos":[4040.8086191933426,130.23251783948768],"size":[275.8125,186],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"albedo_texture","name":"albedo_texture","type":"IMAGE","link":41},{"localized_name":"albedo_mask","name":"albedo_mask","type":"IMAGE","link":42},{"localized_name":"mr_texture","name":"mr_texture","type":"IMAGE","link":43},{"localized_name":"mr_mask","name":"mr_mask","type":"IMAGE","link":44},{"localized_name":"mesh","name":"mesh","type":"TRIMESH","link":39},{"localized_name":"texture_size","name":"texture_size","type":"INT","widget":{"name":"texture_size"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"vertex_inpaint","name":"vertex_inpaint","type":"BOOLEAN","widget":{"name":"vertex_inpaint"},"link":null}],"outputs":[{"localized_name":"albedo_inpainted","name":"albedo_inpainted","type":"IMAGE","links":[37]},{"localized_name":"mr_inpainted","name":"mr_inpainted","type":"IMAGE","links":[38]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"6586ed90e17db98247e1e5a763b86f26e30fcb47","Node name for S&R":"MeshCraft_InpaintTextures"},"widgets_values":[512,"NS",true]},{"id":31,"type":"Preview3D","pos":[4703.649529016931,123.8759545466962],"size":[400,550],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"camera_info","name":"camera_info","shape":7,"type":"LOAD3D_CAMERA","link":null},{"localized_name":"model_file","name":"model_file","type":"STRING","widget":{"name":"model_file"},"link":45},{"localized_name":"image","name":"image","type":"PREVIEW_3D","widget":{"name":"image"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"Preview3D","Camera Info":{"position":{"x":10.09946803335226,"y":2.988817305891864,"z":12.792542247488381},"target":{"x":0,"y":0,"z":0},"zoom":1,"cameraType":"perspective"}},"widgets_values":["",""]},{"id":30,"type":"MeshCraft_ApplyAndSaveTexturedMesh","pos":[4386.595844044152,108.37615551401193],"size":[293.6783203125,122],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"mesh","name":"mesh","type":"TRIMESH","link":40},{"localized_name":"albedo_texture","name":"albedo_texture","type":"IMAGE","link":37},{"localized_name":"mr_texture","name":"mr_texture","type":"IMAGE","link":38},{"localized_name":"texture_size","name":"texture_size","type":"INT","widget":{"name":"texture_size"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null}],"outputs":[{"localized_name":"obj_path","name":"obj_path","type":"STRING","links":null},{"localized_name":"glb_path","name":"glb_path","type":"STRING","links":[45]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"6586ed90e17db98247e1e5a763b86f26e30fcb47","Node name for S&R":"MeshCraft_ApplyAndSaveTexturedMesh"},"widgets_values":[512,"textured_mesh"]},{"id":26,"type":"MeshCraft_LoadHunyuanMultiViewModel","pos":[2939.509718697661,-8.61960413638802],"size":[294.45078125,106],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"model_repo","name":"model_repo","type":"STRING","widget":{"name":"model_repo"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"attention_mode","name":"attention_mode","type":"COMBO","widget":{"name":"attention_mode"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"MULTIVIEW_MODEL","links":[27]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"MeshCraft_LoadHunyuanMultiViewModel"},"widgets_values":["tencent/Hunyuan3D-2.1","cuda","flash"]},{"id":21,"type":"PreviewImage","pos":[2862.8107228029353,159.95171160927754],"size":[329.26348828968366,246],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":23}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":33,"type":"PreviewImage","pos":[3698.3140686689276,440.2601356794155],"size":[140,246],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":47}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":32,"type":"PreviewImage","pos":[3849.6828402915326,437.7256701037484],"size":[140,246],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":46}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":24,"type":"MeshCraft_GenerateMultiviewPBR","pos":[3342.9095837371387,173.8969912870882],"size":[309.202734375,214],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MULTIVIEW_MODEL","link":27},{"localized_name":"reference_image","name":"reference_image","type":"IMAGE","link":30},{"localized_name":"normal_maps","name":"normal_maps","type":"IMAGE","link":28},{"localized_name":"position_maps","name":"position_maps","type":"IMAGE","link":29},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"guidance_scale","name":"guidance_scale","type":"FLOAT","widget":{"name":"guidance_scale"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"resolution","name":"resolution","type":"INT","widget":{"name":"resolution"},"link":null}],"outputs":[{"localized_name":"albedo","name":"albedo","type":"IMAGE","links":[31,46]},{"localized_name":"mr","name":"mr","type":"IMAGE","links":[32,47]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"MeshCraft_GenerateMultiviewPBR"},"widgets_values":[10,3,2,"fixed",512]},{"id":15,"type":"LoadHunyuanDiT","pos":[1319.7598925764987,518.2650774801531],"size":[270,106],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"attention_mode","name":"attention_mode","type":"COMBO","widget":{"name":"attention_mode"},"link":null},{"localized_name":"use_cache","name":"use_cache","type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"localized_name":"dit_model","name":"dit_model","type":"HY3D_DIT_MODEL","links":[15]}],"properties":{"aux_id":"PozzettiAndrea/ComfyUI-MeshCraft","ver":"087877199860f86bd6e355865af9f60304699b55","Node name for S&R":"LoadHunyuanDiT"},"widgets_values":["hunyuan3d-dit-v2-1-fp16.ckpt","flash",true]}],"links":[[1,1,0,3,0,"IMAGE"],[2,5,0,6,0,"DINO_MODEL"],[4,7,0,9,1,"HY3DLATENT"],[5,10,0,9,0,"HY3DVAE"],[6,6,0,7,1,"DINO_EMBEDDING"],[9,9,0,11,0,"TRIMESH"],[10,12,0,11,1,"HY3D21CAMERA"],[15,15,0,7,0,"HY3D_DIT_MODEL"],[19,3,0,18,0,"IMAGE"],[20,3,0,6,1,"IMAGE"],[23,11,0,21,0,"IMAGE"],[24,11,1,22,0,"IMAGE"],[27,26,0,24,0,"MULTIVIEW_MODEL"],[28,11,0,24,2,"IMAGE"],[29,11,1,24,3,"IMAGE"],[30,3,0,24,1,"IMAGE"],[31,24,0,23,2,"IMAGE"],[32,24,1,23,3,"IMAGE"],[33,9,0,27,0,"TRIMESH"],[34,27,0,23,0,"TRIMESH"],[35,12,0,23,1,"HY3D21CAMERA"],[37,29,0,30,1,"IMAGE"],[38,29,1,30,2,"IMAGE"],[39,27,0,29,4,"TRIMESH"],[40,27,0,30,0,"TRIMESH"],[41,23,0,29,0,"IMAGE"],[42,23,1,29,1,"IMAGE"],[43,23,2,29,2,"IMAGE"],[44,23,3,29,3,"IMAGE"],[45,30,1,31,1,"STRING"],[46,24,0,32,0,"IMAGE"],[47,24,1,33,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.9753117288274404,"offset":[-1167.5387810514085,-240.69390973790766]}},"version":0.4}